# æ€§èƒ½ä¼˜åŒ–ç‰ˆæœ¬ - å¿«é€Ÿå¼€å§‹

## ğŸš€ é€‚ç”¨åœºæ™¯

å¦‚æœä½ çš„é¡¹ç›®æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨**æ€§èƒ½ä¼˜åŒ–ç‰ˆæœ¬**ï¼š

- âœ… æ–‡ä»¶æ•°é‡ > 1000
- âœ… å‡½æ•°æ•°é‡ > 5000
- âœ… å¤šæ ¸ CPUï¼ˆ4æ ¸æˆ–ä»¥ä¸Šï¼‰
- âœ… éœ€è¦å¿«é€Ÿåˆ†æ

## ğŸ“¦ å®‰è£…

ä¸æ ‡å‡†ç‰ˆæœ¬ç›¸åŒï¼š

```bash
cd /path/to/call_graph
pip install -e .
```

## âš¡ ä½¿ç”¨æ€§èƒ½ä¼˜åŒ–æ¨¡å¼

### åŸºæœ¬ç”¨æ³•

åªéœ€æ·»åŠ  `--fast` å‚æ•°ï¼š

```bash
python call-graph.py --database myproject.db analyze /path/to/project --clear --fast
```

### å®Œæ•´ç”¨æ³•

```bash
python call-graph.py --database myproject.db analyze /path/to/project \
  --clear \
  --fast \
  --workers 8 \
  --batch-size 200 \
  --exclude "node_modules,venv,build,dist"
```

## ğŸ“Š å‚æ•°è¯´æ˜

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ | æ¨èå€¼ |
|------|------|--------|--------|
| `--fast` | å¯ç”¨æ€§èƒ½ä¼˜åŒ–æ¨¡å¼ | å¦ | å¤§å‹é¡¹ç›®å¯ç”¨ |
| `--workers` | å·¥ä½œè¿›ç¨‹æ•° | CPUæ ¸å¿ƒæ•°-1 | 4-8 |
| `--batch-size` | æ‰¹é‡æ’å…¥å¤§å° | 100 | 100-200 |
| `--exclude` | æ’é™¤ç›®å½• | é»˜è®¤æ’é™¤ | æ ¹æ®é¡¹ç›®è°ƒæ•´ |

## ğŸ’¡ å®é™…æ¡ˆä¾‹

### æ¡ˆä¾‹ 1: ä¸­å‹ Python é¡¹ç›®

```bash
# é¡¹ç›®ä¿¡æ¯
# - æ–‡ä»¶æ•°: 500
# - å‡½æ•°æ•°: 2000
# - è¯­è¨€: Python

# å‘½ä»¤
python call-graph.py --database myapp.db analyze ./myapp \
  --clear --fast --workers 4

# ç»“æœ
# â±ï¸ è€—æ—¶: çº¦ 30 ç§’
# ğŸ“Š ç¬¦å·æ•°: 2145
# ğŸ”— è°ƒç”¨å…³ç³»: 5678
```

### æ¡ˆä¾‹ 2: å¤§å‹å¤šè¯­è¨€é¡¹ç›®

```bash
# é¡¹ç›®ä¿¡æ¯
# - æ–‡ä»¶æ•°: 2000+
# - å‡½æ•°æ•°: 12000+
# - è¯­è¨€: Python, Java, JavaScript, TypeScript

# å‘½ä»¤
python call-graph.py --database bigproject.db analyze ./bigproject \
  --clear --fast --workers 8 --batch-size 200 \
  --exclude "node_modules,venv,build,dist,target,test"

# ç»“æœ
# â±ï¸ è€—æ—¶: çº¦ 2-3 åˆ†é’Ÿ
# ğŸ“Š ç¬¦å·æ•°: 12456
# ğŸ”— è°ƒç”¨å…³ç³»: 45678
# ğŸš€ å¤„ç†é€Ÿåº¦: 15 æ–‡ä»¶/ç§’
```

### æ¡ˆä¾‹ 3: è¶…å¤§å‹ä¼ä¸šé¡¹ç›®

```bash
# é¡¹ç›®ä¿¡æ¯
# - æ–‡ä»¶æ•°: 5000+
# - å‡½æ•°æ•°: 30000+
# - è¯­è¨€: å¤šè¯­è¨€æ··åˆ

# å‘½ä»¤
python call-graph.py --database enterprise.db analyze ./enterprise \
  --clear --fast --workers 12 --batch-size 300 \
  --exclude "node_modules,venv,build,dist,target,test,tests,doc,docs"

# ç»“æœ
# â±ï¸ è€—æ—¶: çº¦ 5-8 åˆ†é’Ÿ
# ğŸ“Š ç¬¦å·æ•°: 32145
# ğŸ”— è°ƒç”¨å…³ç³»: 120345
# ğŸš€ å¤„ç†é€Ÿåº¦: 12-18 æ–‡ä»¶/ç§’
```

## ğŸ¯ æ€§èƒ½å¯¹æ¯”

| é¡¹ç›®è§„æ¨¡ | æ ‡å‡†æ¨¡å¼ | ä¼˜åŒ–æ¨¡å¼ | æå‡å€æ•° |
|---------|---------|---------|---------|
| å°å‹ (< 100 æ–‡ä»¶) | 10 ç§’ | 8 ç§’ | 1.25x |
| ä¸­å‹ (100-1000 æ–‡ä»¶) | 2 åˆ†é’Ÿ | 30 ç§’ | 4x |
| å¤§å‹ (1000-5000 æ–‡ä»¶) | 15 åˆ†é’Ÿ | 3 åˆ†é’Ÿ | 5x |
| è¶…å¤§å‹ (> 5000 æ–‡ä»¶) | 30+ åˆ†é’Ÿ | 6 åˆ†é’Ÿ | 5-7x |

## ğŸ“ å®Œæ•´å·¥ä½œæµ

### 1. åˆ†æé¡¹ç›®

```bash
python call-graph.py --database myproject.db analyze /path/to/project --clear --fast
```

### 2. æŸ¥çœ‹ç»Ÿè®¡

```bash
python call-graph.py --database myproject.db stats
```

### 3. æœç´¢å‡½æ•°

```bash
python call-graph.py --database myproject.db search "main"
```

### 4. æŸ¥è¯¢è°ƒç”¨è·¯å¾„

```bash
python call-graph.py --database myproject.db query main --fullpath --verbose
```

### 5. å¯¼å‡ºå›¾è¡¨

```bash
python call-graph.py --database myproject.db export --output graph.dot
dot -Tpng graph.dot -o graph.png
```

## ğŸ”§ è°ƒä¼˜å»ºè®®

### CPU æ ¸å¿ƒæ•°é€‰æ‹©

```bash
# æŸ¥çœ‹ CPU æ ¸å¿ƒæ•°
# Linux/macOS
nproc  # æˆ– sysctl -n hw.ncpu

# æ¨èè®¾ç½®
4æ ¸ CPU  â†’ --workers 3
8æ ¸ CPU  â†’ --workers 6-7
16æ ¸ CPU â†’ --workers 12-14
```

### æ‰¹æ¬¡å¤§å°é€‰æ‹©

```bash
# æ ¹æ®æ–‡ä»¶æ€»æ•°é€‰æ‹©
< 500 æ–‡ä»¶    â†’ --batch-size 50
500-2000 æ–‡ä»¶  â†’ --batch-size 100
2000-5000 æ–‡ä»¶ â†’ --batch-size 150
> 5000 æ–‡ä»¶    â†’ --batch-size 200-300
```

### æ’é™¤ç›®å½•

```bash
# Python é¡¹ç›®
--exclude "venv,env,.venv,__pycache__,build,dist,.tox"

# JavaScript/TypeScript é¡¹ç›®
--exclude "node_modules,dist,build,.next,out"

# Java é¡¹ç›®
--exclude "target,build,bin,.gradle"

# Rust é¡¹ç›®
--exclude "target,build"

# å¤šè¯­è¨€é¡¹ç›®
--exclude "node_modules,venv,target,build,dist,.git,test,tests"
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å†…å­˜ä½¿ç”¨

å¤šè¿›ç¨‹ä¼šå¢åŠ å†…å­˜ä½¿ç”¨ï¼š

```bash
# å¦‚æœå†…å­˜ä¸è¶³ï¼Œå‡å°‘å·¥ä½œè¿›ç¨‹æ•°
python call-graph.py ... --fast --workers 4
```

### 2. æ•°æ®åº“é”å®š

ç¡®ä¿æ•°æ®åº“æ–‡ä»¶æ²¡æœ‰è¢«å…¶ä»–è¿›ç¨‹æ‰“å¼€ã€‚

### 3. é¦–æ¬¡åˆ†æ

é¦–æ¬¡åˆ†æå»ºè®®ä½¿ç”¨ `--clear`ï¼š

```bash
python call-graph.py --database myproject.db analyze /path/to/project --clear --fast
```

### 4. å¢é‡åˆ†æ

ä¼˜åŒ–æ¨¡å¼ä¸æ”¯æŒå¢é‡åˆ†æï¼Œå»ºè®®ä½¿ç”¨ `--clear` é‡æ–°åˆ†æã€‚

## ğŸ†˜ æ•…éšœæ’é™¤

### é—®é¢˜ 1: å†…å­˜ä¸è¶³

```bash
# ç—‡çŠ¶: è¿›ç¨‹è¢«æ€æ­»
# è§£å†³: å‡å°‘å·¥ä½œè¿›ç¨‹æ•°
python call-graph.py ... --fast --workers 2
```

### é—®é¢˜ 2: æ€§èƒ½æ²¡æœ‰æå‡

```bash
# å¯èƒ½åŸå› :
# 1. é¡¹ç›®å¤ªå°ï¼ˆ< 100 æ–‡ä»¶ï¼‰
# 2. CPU å•æ ¸
# 3. ç£ç›˜ I/O ç“¶é¢ˆï¼ˆä½¿ç”¨ SSDï¼‰
```

### é—®é¢˜ 3: è¿›ç¨‹å¯åŠ¨å¤±è´¥

```bash
# ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„æ–¹å¼è¿è¡Œ
python call-graph.py ...  # âœ… æ­£ç¡®
python -m call_graph ...  # âœ… æ­£ç¡®
```

## ğŸ“š æ›´å¤šä¿¡æ¯

- è¯¦ç»†ä¼˜åŒ–æŒ‡å—: `æ€§èƒ½ä¼˜åŒ–æŒ‡å—.md`
- å®Œæ•´ä½¿ç”¨æ–‡æ¡£: `çº¯Pythonä½¿ç”¨æ–¹æ¡ˆ.md`
- é¡¹ç›®ä¸»é¡µ: `README.md`

## ğŸ‰ æ€»ç»“

### æ¨èå‘½ä»¤ï¼ˆå¤åˆ¶å³ç”¨ï¼‰

```bash
# å¤§å‹é¡¹ç›®ï¼ˆæ¨èï¼‰
python call-graph.py --database myproject.db analyze /path/to/project \
  --clear --fast --workers 8 --batch-size 200

# ä¸­å‹é¡¹ç›®
python call-graph.py --database myproject.db analyze /path/to/project \
  --clear --fast

# å°å‹é¡¹ç›®ï¼ˆä½¿ç”¨æ ‡å‡†æ¨¡å¼ï¼‰
python call-graph.py --database myproject.db analyze /path/to/project --clear
```

### ä½•æ—¶ä½¿ç”¨ä¼˜åŒ–æ¨¡å¼

- âœ… æ–‡ä»¶æ•° > 500
- âœ… éœ€è¦å¿«é€Ÿç»“æœ
- âœ… æœ‰å¤šæ ¸ CPU

### ä½•æ—¶ä½¿ç”¨æ ‡å‡†æ¨¡å¼

- âœ… æ–‡ä»¶æ•° < 100
- âœ… å†…å­˜å—é™
- âœ… å•æ ¸ CPU

**å¼€å§‹ä½¿ç”¨å§ï¼** ğŸš€

